{"ast":null,"code":"class MoviesApi {\n  constructor({\n    BASE_URL\n  }) {\n    this._BASE_URL = BASE_URL;\n  }\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n  getMovieCards() {\n    const token = localStorage.getItem('token');\n    return fetch(`${this._BASE_URL}`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n        referrerPolicy: \"origin-when-cross-origin\"\n      }\n    }).then(this._checkResponse);\n  }\n  addMovieCards(movie) {\n    const token = localStorage.getItem('token');\n    return fetch(`${this._BASE_URL}`, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(movie)\n    }).then(this._checkResponse);\n  }\n}\nexport const moviesApi = new MoviesApi({\n  BASE_URL: 'https://api.nomoreparties.co/beatfilm-movies'\n});","map":{"version":3,"names":["MoviesApi","constructor","BASE_URL","_BASE_URL","_checkResponse","res","ok","json","Promise","reject","status","getMovieCards","token","localStorage","getItem","fetch","headers","Authorization","referrerPolicy","then","addMovieCards","movie","method","body","JSON","stringify","moviesApi"],"sources":["C:/Users/БОГ КОМПА/Desktop/M/dev/movies-explorer-frontend/src/utils/MoviesApi.js"],"sourcesContent":["class MoviesApi {\r\n  constructor({ BASE_URL }) {\r\n    this._BASE_URL = BASE_URL;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getMovieCards() {\r\n    const token = localStorage.getItem('token');\r\n\r\n    return fetch(`${this._BASE_URL}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n        referrerPolicy: \"origin-when-cross-origin\"\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  addMovieCards(movie) {\r\n    const token = localStorage.getItem('token');\r\n\r\n    return fetch(`${this._BASE_URL}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(movie),\r\n    }).then(this._checkResponse);\r\n  }\r\n}\r\n\r\nexport const moviesApi = new MoviesApi({ BASE_URL: 'https://api.nomoreparties.co/beatfilm-movies' });\r\n"],"mappings":"AAAA,MAAMA,SAAS,CAAC;EACdC,WAAWA,CAAC;IAAEC;EAAS,CAAC,EAAE;IACxB,IAAI,CAACC,SAAS,GAAGD,QAAQ;EAC3B;EAEAE,cAAcA,CAACC,GAAG,EAAE;IAClB,IAAIA,GAAG,CAACC,EAAE,EAAE;MACV,OAAOD,GAAG,CAACE,IAAI,CAAC,CAAC;IACnB;IACA,OAAOC,OAAO,CAACC,MAAM,CAAE,WAAUJ,GAAG,CAACK,MAAO,EAAC,CAAC;EAChD;EAEAC,aAAaA,CAAA,EAAG;IACd,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3C,OAAOC,KAAK,CAAE,GAAE,IAAI,CAACZ,SAAU,EAAC,EAAE;MAChCa,OAAO,EAAE;QACPC,aAAa,EAAG,UAASL,KAAM,EAAC;QAChC,cAAc,EAAE,kBAAkB;QAClCM,cAAc,EAAE;MAClB;IACF,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAACf,cAAc,CAAC;EAC9B;EAEAgB,aAAaA,CAACC,KAAK,EAAE;IACnB,MAAMT,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3C,OAAOC,KAAK,CAAE,GAAE,IAAI,CAACZ,SAAU,EAAC,EAAE;MAChCmB,MAAM,EAAE,MAAM;MACdN,OAAO,EAAE;QACPC,aAAa,EAAG,UAASL,KAAM,EAAC;QAChC,cAAc,EAAE;MAClB,CAAC;MACDW,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,KAAK;IAC5B,CAAC,CAAC,CAACF,IAAI,CAAC,IAAI,CAACf,cAAc,CAAC;EAC9B;AACF;AAEA,OAAO,MAAMsB,SAAS,GAAG,IAAI1B,SAAS,CAAC;EAAEE,QAAQ,EAAE;AAA+C,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}