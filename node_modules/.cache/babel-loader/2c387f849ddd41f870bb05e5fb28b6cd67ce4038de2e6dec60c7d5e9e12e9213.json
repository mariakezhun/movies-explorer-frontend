{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useCallback } from \"./react\";\n\n//хук управления формой и валидации формы\nexport function useFormWithValidation() {\n  _s();\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n  const handleChange = event => {\n    const target = event.target;\n    const name = target.name;\n    const value = target.value;\n    setValues({\n      ...values,\n      [name]: value\n    });\n    setErrors({\n      ...errors,\n      [name]: target.validationMessage\n    });\n    setIsValid(target.closest(\"form\").checkValidity());\n  };\n  const resetForm = useCallback((newValues = {}, newErrors = {}, newIsValid = false) => {\n    setValues(newValues);\n    setErrors(newErrors);\n    setIsValid(newIsValid);\n  }, [setValues, setErrors, setIsValid]);\n  return {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    resetForm\n  };\n}\n_s(useFormWithValidation, \"msMIfc7pG71dSFDSlZa7+l3GN6k=\");","map":{"version":3,"names":["React","useCallback","useFormWithValidation","_s","values","setValues","useState","errors","setErrors","isValid","setIsValid","handleChange","event","target","name","value","validationMessage","closest","checkValidity","resetForm","newValues","newErrors","newIsValid"],"sources":["C:/Users/БОГ КОМПА/Desktop/M/dev/movies-explorer-frontend/src/hooks/useFormWithValidation.js"],"sourcesContent":["import React, { useCallback } from \"./react\";\r\n\r\n//хук управления формой и валидации формы\r\nexport function useFormWithValidation() {\r\n  const [values, setValues] = React.useState({});\r\n  const [errors, setErrors] = React.useState({});\r\n  const [isValid, setIsValid] = React.useState(false);\r\n\r\n  const handleChange = (event) => {\r\n    const target = event.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n    setValues({...values, [name]: value});\r\n    setErrors({...errors, [name]: target.validationMessage });\r\n    setIsValid(target.closest(\"form\").checkValidity());\r\n  };\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return { values, handleChange, errors, isValid, resetForm };\r\n}"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,WAAW,QAAQ,SAAS;;AAE5C;AACA,OAAO,SAASC,qBAAqBA,CAAA,EAAG;EAAAC,EAAA;EACtC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGL,KAAK,CAACM,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC9C,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGR,KAAK,CAACM,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC9C,MAAM,CAACG,OAAO,EAAEC,UAAU,CAAC,GAAGV,KAAK,CAACM,QAAQ,CAAC,KAAK,CAAC;EAEnD,MAAMK,YAAY,GAAIC,KAAK,IAAK;IAC9B,MAAMC,MAAM,GAAGD,KAAK,CAACC,MAAM;IAC3B,MAAMC,IAAI,GAAGD,MAAM,CAACC,IAAI;IACxB,MAAMC,KAAK,GAAGF,MAAM,CAACE,KAAK;IAC1BV,SAAS,CAAC;MAAC,GAAGD,MAAM;MAAE,CAACU,IAAI,GAAGC;IAAK,CAAC,CAAC;IACrCP,SAAS,CAAC;MAAC,GAAGD,MAAM;MAAE,CAACO,IAAI,GAAGD,MAAM,CAACG;IAAkB,CAAC,CAAC;IACzDN,UAAU,CAACG,MAAM,CAACI,OAAO,CAAC,MAAM,CAAC,CAACC,aAAa,CAAC,CAAC,CAAC;EACpD,CAAC;EAED,MAAMC,SAAS,GAAGlB,WAAW,CAC3B,CAACmB,SAAS,GAAG,CAAC,CAAC,EAAEC,SAAS,GAAG,CAAC,CAAC,EAAEC,UAAU,GAAG,KAAK,KAAK;IACtDjB,SAAS,CAACe,SAAS,CAAC;IACpBZ,SAAS,CAACa,SAAS,CAAC;IACpBX,UAAU,CAACY,UAAU,CAAC;EACxB,CAAC,EACD,CAACjB,SAAS,EAAEG,SAAS,EAAEE,UAAU,CACnC,CAAC;EAED,OAAO;IAAEN,MAAM;IAAEO,YAAY;IAAEJ,MAAM;IAAEE,OAAO;IAAEU;EAAU,CAAC;AAC7D;AAAChB,EAAA,CAxBeD,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}