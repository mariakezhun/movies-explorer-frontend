{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0411\\u041E\\u0413 \\u041A\\u041E\\u041C\\u041F\\u0410\\\\Desktop\\\\M\\\\dev\\\\movies-explorer-frontend\\\\src\\\\components\\\\MoviesCardList\\\\MoviesCardList.js\",\n  _s = $RefreshSig$();\nimport './MoviesCardList.css';\nimport React from 'react';\nimport MoviesCard from '../MoviesCard/MoviesCard';\nimport { useMediaQuery } from '../../hooks/useMediaQuery';\nimport { useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LG_ROW_CARD_COUNT = 3;\nconst MD_ROW_CARD_COUNT = 2;\nconst SM_ROW_CARD_COUNT = 2;\nconst LG_INITIAL_CARD_COUNT = 12;\nconst MD_INITIAL_CARD_COUNT = 9;\nconst SM_INITIAL_CARD_COUNT = 5;\nfunction MoviesCardList(props) {\n  _s();\n  var _props$movies;\n  const moviesCardListLocation = useLocation();\n  const moviesLocation = '/movies';\n  const isDesktop = useMediaQuery('(min-width: 1280px)');\n  const isTablet = useMediaQuery('(min-width: 768px)');\n  const cardColumnCount = isDesktop ? LG_ROW_CARD_COUNT : isTablet ? MD_ROW_CARD_COUNT : SM_ROW_CARD_COUNT;\n  const initialCardCount = isDesktop ? LG_INITIAL_CARD_COUNT : isTablet ? MD_INITIAL_CARD_COUNT : SM_INITIAL_CARD_COUNT;\n  const [visibleCardCount, setVisibleCardCount] = React.useState(initialCardCount);\n  const roundedVisibleCardCount = isDesktop ? Math.floor(visibleCardCount / cardColumnCount) * cardColumnCount : isTablet ? Math.floor(visibleCardCount / cardColumnCount) * cardColumnCount : Math.floor(visibleCardCount / cardColumnCount * cardColumnCount);\n  const handleClick = () => {\n    calculateCardCount();\n  };\n  React.useEffect(() => {\n    return setVisibleCardCount(initialCardCount);\n  }, [props.movies]);\n  const calculateCardCount = () => {\n    if (isDesktop) {\n      return setVisibleCardCount(visibleCardCount + LG_ROW_CARD_COUNT);\n    }\n    if (isTablet) {\n      return setVisibleCardCount(visibleCardCount + MD_ROW_CARD_COUNT);\n    }\n    setVisibleCardCount(visibleCardCount + SM_ROW_CARD_COUNT);\n  };\n  console.log(props.movies.length);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"movies-card-list\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movies-card-list__grid\",\n      children: (_props$movies = props.movies) === null || _props$movies === void 0 ? void 0 : _props$movies.slice(0, roundedVisibleCardCount).map(movie => /*#__PURE__*/_jsxDEV(MoviesCard, {\n        movie: movie,\n        onMovieCardSave: props.onMovieCardSave,\n        onMovieCardDelete: props.onMovieCardDelete,\n        savedMovies: props.savedMovies\n      }, movie.movieId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), props.movies.length > 11 && moviesCardListLocation.pathname === moviesLocation && props.movies.length > roundedVisibleCardCount ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movies-card-list__button-container\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"movies-card-list__more-button\",\n        onClick: handleClick,\n        children: \"\\u0415\\u0449\\u0451\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this) : '']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(MoviesCardList, \"Rd7KCLhBtNtMam9YyehkJDBBo/8=\", false, function () {\n  return [useLocation, useMediaQuery, useMediaQuery];\n});\n_c = MoviesCardList;\nexport default MoviesCardList;\nvar _c;\n$RefreshReg$(_c, \"MoviesCardList\");","map":{"version":3,"names":["React","MoviesCard","useMediaQuery","useLocation","jsxDEV","_jsxDEV","LG_ROW_CARD_COUNT","MD_ROW_CARD_COUNT","SM_ROW_CARD_COUNT","LG_INITIAL_CARD_COUNT","MD_INITIAL_CARD_COUNT","SM_INITIAL_CARD_COUNT","MoviesCardList","props","_s","_props$movies","moviesCardListLocation","moviesLocation","isDesktop","isTablet","cardColumnCount","initialCardCount","visibleCardCount","setVisibleCardCount","useState","roundedVisibleCardCount","Math","floor","handleClick","calculateCardCount","useEffect","movies","console","log","length","className","children","slice","map","movie","onMovieCardSave","onMovieCardDelete","savedMovies","movieId","fileName","_jsxFileName","lineNumber","columnNumber","pathname","onClick","_c","$RefreshReg$"],"sources":["C:/Users/БОГ КОМПА/Desktop/M/dev/movies-explorer-frontend/src/components/MoviesCardList/MoviesCardList.js"],"sourcesContent":["import './MoviesCardList.css';\r\nimport React from 'react';\r\nimport MoviesCard from '../MoviesCard/MoviesCard';\r\nimport { useMediaQuery } from '../../hooks/useMediaQuery';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nconst LG_ROW_CARD_COUNT = 3;\r\nconst MD_ROW_CARD_COUNT = 2;\r\nconst SM_ROW_CARD_COUNT = 2;\r\n\r\nconst LG_INITIAL_CARD_COUNT = 12;\r\nconst MD_INITIAL_CARD_COUNT = 9;\r\nconst SM_INITIAL_CARD_COUNT = 5;\r\n\r\nfunction MoviesCardList(props) {\r\n  const moviesCardListLocation = useLocation();\r\n  const moviesLocation = '/movies';\r\n\r\n  const isDesktop = useMediaQuery('(min-width: 1280px)');\r\n  const isTablet = useMediaQuery('(min-width: 768px)');\r\n\r\n  const cardColumnCount = isDesktop\r\n    ? LG_ROW_CARD_COUNT\r\n    : isTablet\r\n    ? MD_ROW_CARD_COUNT\r\n    : SM_ROW_CARD_COUNT;\r\n\r\n  const initialCardCount = isDesktop\r\n    ? LG_INITIAL_CARD_COUNT\r\n    : isTablet\r\n    ? MD_INITIAL_CARD_COUNT\r\n    : SM_INITIAL_CARD_COUNT;\r\n\r\n  const [visibleCardCount, setVisibleCardCount] =\r\n    React.useState(initialCardCount);\r\n\r\n  const roundedVisibleCardCount = isDesktop\r\n    ? Math.floor(visibleCardCount / cardColumnCount) * cardColumnCount\r\n    : isTablet\r\n    ? Math.floor(visibleCardCount / cardColumnCount) * cardColumnCount\r\n    : Math.floor((visibleCardCount / cardColumnCount) * cardColumnCount);\r\n\r\n  const handleClick = () => {\r\n    calculateCardCount();\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    return setVisibleCardCount(initialCardCount);\r\n  }, [props.movies]);\r\n\r\n  const calculateCardCount = () => {\r\n    if (isDesktop) {\r\n      return setVisibleCardCount(visibleCardCount + LG_ROW_CARD_COUNT);\r\n    }\r\n\r\n    if (isTablet) {\r\n      return setVisibleCardCount(visibleCardCount + MD_ROW_CARD_COUNT);\r\n    }\r\n\r\n    setVisibleCardCount(visibleCardCount + SM_ROW_CARD_COUNT);\r\n  };\r\n  console.log(props.movies.length);\r\n\r\n  return (\r\n    <section className='movies-card-list'>\r\n      <div className='movies-card-list__grid'>\r\n        {props.movies?.slice(0, roundedVisibleCardCount).map((movie) => (\r\n          <MoviesCard\r\n            key={movie.movieId}\r\n            movie={movie}\r\n            onMovieCardSave={props.onMovieCardSave}\r\n            onMovieCardDelete={props.onMovieCardDelete}\r\n            savedMovies={props.savedMovies}\r\n          />\r\n        ))}\r\n      </div>\r\n      {props.movies.length > 11 &&\r\n      moviesCardListLocation.pathname === moviesLocation &&\r\n      props.movies.length > roundedVisibleCardCount ? (\r\n        <div className='movies-card-list__button-container'>\r\n          <button\r\n            className='movies-card-list__more-button'\r\n            onClick={handleClick}\r\n          >\r\n            Ещё\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        ''\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default MoviesCardList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}